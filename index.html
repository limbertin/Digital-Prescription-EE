<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Receituário Digital - Essential Energy</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="background-energy"></div>

    <main class="app-layout">
        <!-- Main Content: Catálogo de Produtos -->
        <section class="catalog-section">
            <header class="catalog-header">
                <h1>Catálogo de Essências</h1>
                <div class="search-container">
                    <input type="text" id="search-input" placeholder="Buscar essência..." autocomplete="off">
                    <button id="clear-search" class="btn-clear-search" title="Limpar busca">&times;</button>
                </div>
            </header>

            <div class="products-grid" id="products-grid">
                <!-- Produtos inseridos via JS -->
            </div>
        </section>

        <!-- Sidebar: Prescrição em Construção -->
        <aside class="sidebar-section">
            <div class="glass-sidebar">
                <header class="sidebar-header">
                    <h2>Seus Selecionados</h2>
                    <div class="product-badge" id="selected-count">0</div>
                </header>

                <div class="selected-products-list" id="sidebar-list">
                    <p class="empty-state">Nenhuma essência selecionada</p>
                </div>

                <div class="sidebar-footer">
                    <button class="btn-primary disabled" id="btn-submit" disabled>Gerar Receituário</button>
                    <div class="secondary-actions">
                        <button class="btn-secondary" id="btn-copy">Copiar Última</button>
                        <button class="btn-secondary danger" id="btn-reset">Limpar Tudo</button>
                    </div>
                </div>
            </div>
        </aside>
    </main>

    <!-- Modal de Dosagem (Individual Interface) -->
    <div class="modal-overlay" id="dosage-modal">
        <div class="modal-content">
            <section class="prescription-card" id="dosage-card">
                <header class="card-header-dosage">
                    <div class="logo-container">
                        <div class="logo-glow"></div>
                        <img src="" alt="" class="modal-product-logo" id="modal-logo">
                    </div>
                    <h2 class="product-name-dosage"><span id="modal-product-name"></span> <span class="size">30ML</span>
                    </h2>
                </header>

                <div class="card-content-dosage">
                    <div class="input-group" id="group-spray">
                        <label class="group-label">Frascos spray</label>
                        <div class="chip-container" data-field="spray">
                            <button class="chip common active" data-value="1">1 <small>mais comum</small></button>
                            <button class="chip" data-value="2">2</button>
                            <button class="chip" data-value="3">3</button>
                            <button class="chip" data-value="4">4</button>
                            <button class="chip custom-trigger">&plusmn;</button>
                            <div class="custom-input-wrapper hidden">
                                <button class="btn-step minus">&minus;</button>
                                <span class="step-value">5</span>
                                <button class="btn-step plus">&plus;</button>
                                <button class="btn-confirm-custom">OK</button>
                            </div>
                        </div>
                    </div>

                    <div class="input-group" id="group-dosage">
                        <label class="group-label">Borrifar ___ vezes</label>
                        <div class="chip-container" data-field="dosage">
                            <button class="chip common" data-value="3">3 <small>mais comum</small></button>
                            <button class="chip common active" data-value="4">4 <small>mais comum</small></button>
                            <button class="chip" data-value="5">5</button>
                            <button class="chip" data-value="6">6</button>
                            <button class="chip custom-trigger">+</button>
                            <div class="custom-input-wrapper hidden">
                                <button class="btn-step minus">&minus;</button>
                                <span class="step-value">8</span>
                                <button class="btn-step plus">&plus;</button>
                                <button class="btn-confirm-custom">OK</button>
                            </div>
                        </div>
                    </div>

                    <div class="fixed-instruction">
                        <p>4 vezes ao dia, por 7 dias.</p>
                    </div>
                </div>

                <footer class="modal-footer">
                    <button class="btn-secondary" id="btn-cancel-dosage">Cancelar</button>
                    <button class="btn-primary" id="btn-confirm-dosage">Confirmar Seleção</button>
                </footer>
            </section>
        </div>
    </div>

    <!-- Modal de Sucesso -->
    <div class="modal-overlay" id="success-modal">
        <div class="prescription-preview-card">
            <h2>Receituário Gerado</h2>
            <div class="preview-actions">
                <button class="btn-primary" id="close-success">Fechar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>